{% extends 'base.html.twig' %}

{% block title %}Наш API{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div class="example-wrapper">
    <h3>Информация о пользователе</h3>

    {% if error %}
        <p class="error">{{ error }}</p>
    {% endif %}

    {% if user %}
        <table class="table">
            <thead>
            <tr>
                <th>ID</th>
                <th>Email</th>
                <th>Дата регистрации</th>
                <th>Верифицирован</th>
                <th>Роль</th>
            </tr>
            </thead>
            <tbody>
                <tr>
                    <td>{{ user.id }}</td>
                    <td>{{ user.email }}</td>
                    <td>{{ user.created_at|date('d.m.Y H:i') }}</td>
                    <td>{{ user.is_verified ? 'Да' : 'Нет' }}</td>
                    <td>{{ user.roles }}</td>
                </tr>
            </tbody>
        </table>
    {% endif %}

    {% if error %}
        <div><a href="{{ path('app_api') }}">Попробовать ещё раз</a></div>
    {% else %}
        <div><a href="#" onclick="window.history.back(); return false;">Назад</a></div>
    {% endif %}

</div>
{% endblock %}
